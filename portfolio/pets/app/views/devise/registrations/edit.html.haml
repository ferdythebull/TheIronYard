.row
  = form_for(resource, as: resource_name, url: registration_path(resource_name), html: { class: "form", role: "form", method: :put }) do |f|
    = devise_error_messages!

    .row{style: "padding-bottom: 12px"}
      %h1.form-signin-heading{style: "text-align:center"} Edit #{current_user.first_name}'s profile

    / = link_to "Back", :back, class: "btn btn-primary pull-right"
    .row{style: "padding-bottom: 12px"}
      .col-md-6
        .row{style: "padding-bottom: 12px"}
          .form-group
            .col-md-3
              = f.label :name
            .col-md-4{style: "padding-right: 0"}         
              = f.text_field :first_name, autofocus: true, class: "form-control", placeholder: "First Name"
            .col-md-5{style: "padding-left: 0"}
              = f.text_field :last_name, autofocus: true, class: "form-control", placeholder: "Last Name"

        .row{style: "padding-bottom: 12px"}
          .form-group
            .col-md-3
              = f.label :email
            .col-md-9
              = f.email_field :email, autofocus: true, class: "form-control", placeholder: "Email"
                - if devise_mapping.confirmable? && resource.pending_reconfirmation?
                Currently waiting confirmation for: 
                = resource.unconfirmed_email

        .row{style: "padding-bottom: 12px"}
          .form-group
            .col-md-3
              = f.label :new
            .col-md-4{style: "padding-right: 0"}
              = f.password_field :password, autocomplete: "off", class: "form-control", placeholder: "New password"
            .col-md-5{style: "padding-left: 0"}
              = f.password_field :password_confirmation, autocomplete: "off", class: "form-control", placeholder: "Confirm password"

        .row{style: "padding-bottom: 12px"}
          .form-group
            .col-md-3
              = f.label :current
            .col-md-9
              = f.password_field :current_password, autocomplete: "off", class: "form-control", placeholder: "Current password"

        .row{style: "padding-bottom: 12px"}
          .form-group
            .col-md-3
              = f.label :address
            .col-md-9
              = f.text_field :zip_code, autocomplete: "off", class: "form-control", placeholder: "Zip Code"

        .row{style: "padding-bottom: 12px"}
          .form-group
            .col-md-3
              = f.label :birthday
            .col-md-9
              = f.text_field :birthday, autocomplete: "off", class: "form-control", placeholder: "Birthday"

        .row
          .form-group
            .col-md-3
              = link_to "Delete", registration_path(resource_name), class: "btn btn-danger btn-block", data: {confirm: "Are you sure you want to delete your account?" }, method: :delete
            .col-md-3{style: "padding-right: 0"}
              = link_to "Back", :back, class: "btn btn-primary btn-block"
            .col-md-6{style: "padding-left: 0"}
              = f.submit "Update", class: "btn btn-success btn-block"

      .col-md-6.avatar
        .form-group
          = f.label :avatar
          %br
          = image_tag @user.avatar.url(:medium)
          %iframe#image_preview{name: "image_preview", onload: "show_image_preview()", src: "some_blank_page"}
          %br
          %br
          = f.file_field :avatar
